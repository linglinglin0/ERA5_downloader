# ERA5下载软件 - Python环境配置指南

## 快速开始

### 方法一：自动配置（推荐）

1. **安装Python**
   - 访问：https://www.python.org/downloads/
   - 下载 Python 3.10 或 3.11
   - ⚠️ **重要**：安装时勾选 "Add Python to PATH"

2. **配置环境**
   - 双击运行 `setup_env.bat`
   - 等待自动安装完成

3. **启动程序**
   - 双击运行 `启动程序.bat`

---

### 方法二：手动配置

#### 1. 安装Python
```powershell
# 验证Python安装（在新的PowerShell窗口）
python --version
pip --version
```

#### 2. 创建虚拟环境
```powershell
cd D:\wzl\ERA5下载软件
python -m venv venv
```

#### 3. 激活虚拟环境
```powershell
.\venv\Scripts\Activate.ps1
```

#### 4. 安装依赖
```powershell
pip install -r requirements.txt
```

#### 5. 运行程序
```powershell
python ERA5download_GUI_v2.py
```

---

## 依赖包说明

### 核心依赖（必需）
- `customtkinter>=5.0.0` - 现代化GUI框架
- `boto3>=1.28.0` - AWS SDK（用于S3下载）
- `botocore>=1.31.0` - boto3底层库

### 可选依赖
- `pytest` - 测试框架
- `black` - 代码格式化
- `pylint` - 代码检查

---

## 常见问题

### Q1: 执行脚本报错"无法加载文件"
```powershell
# 解决方案：以管理员身份运行PowerShell，执行
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Q2: 找不到Python命令
```powershell
# 检查Python安装路径
where.exe python

# 重新安装Python，确保勾选 "Add Python to PATH"
```

### Q3: pip安装失败
```powershell
# 使用国内镜像源
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q4: 虚拟环境激活失败
```batch
# 使用CMD而不是PowerShell
venv\Scripts\activate.bat
```

---

## 目录结构
```
ERA5下载软件/
├── ERA5download_GUI_v2.py    # 主程序
├── requirements.txt           # 依赖清单
├── setup_env.bat             # 环境配置脚本
├── 启动程序.bat               # 启动脚本
├── 安装指南.md                # 本文档
└── venv/                     # 虚拟环境（配置后生成）
```

---

## 系统要求
- Windows 10/11
- Python 3.10 或更高版本
- 网络连接（用于下载ERA5数据）
- 磁盘空间（根据下载数据量决定）

---

## 技术支持
如遇问题，请检查：
1. Python版本是否满足要求
2. 是否勾选了"Add Python to PATH"
3. 是否有管理员权限
4. 网络连接是否正常
